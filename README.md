# üìö –¶–∏—Ñ—Ä–æ–≤–æ–π –ö–Ω–∏–∂–Ω—ã–π –ü—Ä–∏—é—Ç

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—Ü–∏—Ñ—Ä–æ–≤–∫–∏ –∫–Ω–∏–≥ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω–æ–≥–æ –∑—Ä–µ–Ω–∏—è –∏ –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞.

- –£–º–Ω–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ ‚Äî AI –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∞–≤—Ç–æ—Ä–∞, –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ –≥–æ–¥ –∏–∑–¥–∞–Ω–∏—è –ø–æ —Ñ–æ—Ç–æ –æ–±–ª–æ–∂–∫–∏

- –ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å ‚Äî –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ, –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ, —Å—Ç–∞—Ä–æ—Å–ª–∞–≤—è–Ω—Å–∫–æ–≥–æ –∏ –Ω–µ–º–µ—Ü–∫–æ–≥–æ —è–∑—ã–∫–æ–≤

- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äî –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –∏ –¥–µ—Å–∫—Ç–æ–ø–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

- –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ ‚Äî —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ Redis –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ—Ç–∫–ª–∏–∫–∞

- –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ ‚Äî –∫–æ–º—Ñ–æ—Ä—Ç–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è —Å—É—Ç–æ–∫

# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
Node.js 18 –∏–ª–∏ –≤—ã—à–µ

Redis –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—á–µ—Ä–µ–¥–µ–π

API –∫–ª—é—á–∏ Yandex Cloud (Vision –∏ GPT)

# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>

cd digital-book-shelter

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –±—ç–∫–µ–Ω–¥–∞
cd backend

npm install

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
cd ../frontend

npm install

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª backend/.env:

.env

PORT=8000

DATABASE_URL=./data/books.db

UPLOAD_DIR=./uploads

MAX_FILE_SIZE=10485760

# Redis

REDIS_HOST=127.0.0.1

REDIS_PORT=6379

# Yandex Cloud
YANDEX_FOLDER_ID=–≤–∞—à_folder_id

YANDEX_VISION_API_KEY=–≤–∞—à_api_key

YANDEX_GPT_API_KEY=–≤–∞—à_api_key (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

# –ó–∞–ø—É—Å–∫

# 1. –ó–∞–ø—É—Å–∫ Redis
Windows: redis-server.exe

Linux/Mac: redis-server

–ò–ª–∏ —á–µ—Ä–µ–∑ Docker:

docker run -p 6379:6379 redis

# 2. –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞
cd backend

npm start

–°–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ http://localhost:8000

# 3. –ó–∞–ø—É—Å–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

cd frontend

npm run dev

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –Ω–∞ http://localhost:3000

# üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
–§—Ä–æ–Ω—Ç–µ–Ω–¥

- React 18 —Å —Ö—É–∫–∞–º–∏

- CSS Modules —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ —Å–≤–æ–π—Å—Ç–≤–∞–º–∏

- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Å–≤–µ—Ç–ª–æ–π/—Ç—ë–º–Ω–æ–π —Ç–µ–º—ã

–ë—ç–∫–µ–Ω–¥

- Node.js + Express

- SQLite –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

- Bull + Redis –¥–ª—è –æ—á–µ—Ä–µ–¥–µ–π –∑–∞–¥–∞—á

- Multer –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤

AI-–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

üëÅÔ∏è Yandex Vision API ‚Äî —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞

üß† YandexGPT ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

üñºÔ∏è Sharp ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π


# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

# 1. –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   
–í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

–°–¥–µ–ª–∞–π—Ç–µ —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ –∫–∞–º–µ—Ä—É

–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –∑–æ–Ω—É –∑–∞–≥—Ä—É–∑–∫–∏

# 2. –í—ã–±–æ—Ä —è–∑—ã–∫–∞
–†—É—Å—Å–∫–∏–π RUS

–ê–Ω–≥–ª–∏–π—Å–∫–∏–π ENG

–°—Ç–∞—Ä–æ—Å–ª–∞–≤—è–Ω—Å–∫–∏–π

# 3. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

–ò—Å–ø—Ä–∞–≤—å—Ç–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤ –∫–∞—Ç–∞–ª–æ–≥

# API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

POST /api/books/upload -- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

GET /api/books -- –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–Ω–∏–≥

[ Content-Type: multipart/form-data

   image: [—Ñ–∞–π–ª]

   language: ru]


POST /api/books/create -- –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –∫–Ω–∏–≥–∏


      json
      {

         "title": "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏",
  
         "author": "–ê–≤—Ç–æ—Ä",
  
           "year": 2024,
  
           "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
  
           "language": "ru",
  
           "image_url": "/uploads/filename.jpg",
  
        "ocr_data": {
     
             "extracted_text": "—Ä–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç",
       
             "confidence": 0.95
        }
  
      }


# üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   sql
   
      books
            ‚îú‚îÄ‚îÄ id (TEXT, PRIMARY KEY)
            
            ‚îú‚îÄ‚îÄ title (TEXT)
            
            ‚îú‚îÄ‚îÄ author (TEXT)
            
            ‚îú‚îÄ‚îÄ year (INTEGER)
            
            ‚îú‚îÄ‚îÄ description (TEXT)
            
            ‚îú‚îÄ‚îÄ extracted_text (TEXT)
            
            ‚îú‚îÄ‚îÄ cover_url (TEXT)
            
            ‚îú‚îÄ‚îÄ language (TEXT)
            
            ‚îú‚îÄ‚îÄ confidence (INTEGER)
            
            ‚îú‚îÄ‚îÄ status (TEXT)
            
            ‚îú‚îÄ‚îÄ created_at (DATETIME)
            
            ‚îî‚îÄ‚îÄ updated_at (DATETIME)
         
      book_images
            
            ‚îú‚îÄ‚îÄ id (INTEGER, PRIMARY KEY)
            
            ‚îú‚îÄ‚îÄ book_id (TEXT, FOREIGN KEY)
            
            ‚îú‚îÄ‚îÄ image_url (TEXT)
            
            ‚îú‚îÄ‚îÄ image_type (TEXT)
            
            ‚îî‚îÄ‚îÄ created_at (DATETIME)
   
      book_history
   
            ‚îú‚îÄ‚îÄ id (INTEGER, PRIMARY KEY)
            
            ‚îú‚îÄ‚îÄ book_id (TEXT, FOREIGN KEY)
            
            ‚îú‚îÄ‚îÄ field_name (TEXT)
            
            ‚îú‚îÄ‚îÄ old_value (TEXT)
            
            ‚îú‚îÄ‚îÄ new_value (TEXT)
            
            ‚îú‚îÄ‚îÄ changed_by (TEXT)
            
            ‚îî‚îÄ‚îÄ changed_at (DATETIME)


# üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
# –°–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

npm list --depth=0

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

cat .env

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã

netstat -ano | findstr :8000

# Redis –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—É—â–µ–Ω –ª–∏ Redis

redis-cli ping

–î–æ–ª–∂–µ–Ω –æ—Ç–≤–µ—Ç–∏—Ç—å PONG

–ò–ª–∏ –ø–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

npm install bull redis

# –û—à–∏–±–∫–∏ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (–º–∞–∫—Å. 10MB)

–£–±–µ–¥–∏—Ç–µ—Å—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ (JPEG, PNG, WEBP)

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ –ø–∞–ø–∫—É uploads

# –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞: 1-3 —Å–µ–∫—É–Ω–¥—ã

- –†–∞–∑–º–µ—Ä –±–∞–∑—ã: ~1MB –Ω–∞ 1000 –∫–Ω–∏–≥

- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ: Redis –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤


# üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è
–†–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π –ò–ú–ò–¢. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –Ω–∞ —Å–∞–π—Ç–µ math.isu.ru

# üë• –ö–æ–º–∞–Ω–¥–∞
–§—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ‚Äî [–î–∞—Ä–±–∞–∫–æ–≤ –ú—ç—Ä–≥—ç–Ω]

–ë—ç–∫–µ–Ω–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ ‚Äî [–†–∞–∑–º–∞–Ω–æ–≤ –ê—Ä—Ç—ë–º]

#  
# –°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π –∫–Ω–∏–≥
